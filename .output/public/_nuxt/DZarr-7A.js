import{_ as A,t as y,v as F,H as O,I as P,z as u,A as a,B as i,r as E,j as b,x as m,y as B,J as v}from"./95C79I3j.js";const I={__name:"Button",props:{type:{type:String,default:"digit"},span:Number},emits:["click"],setup(e,{emit:n}){const t=n,l=()=>{t("click")};return(d,f)=>(F(),y("button",{class:P(["calculator-button",[e.type?`calculator-button--${e.type}`:"",e.span?`calculator-button--span-${e.span}`:""]]),onClick:l},[O(d.$slots,"default",{},void 0)],2))}},s=A(I,[["__scopeId","data-v-6cf525fa"]]),T={class:"keypad"},z={__name:"KeyPad",emits:["digit","operator","clear","toggle-sign","percentage","decimal","calculate"],setup(e){return(n,t)=>(F(),y("div",T,[u(s,{type:"function",onClick:t[0]||(t[0]=l=>n.$emit("clear"))},{default:a(()=>t[19]||(t[19]=[i("AC")])),_:1}),u(s,{type:"function",onClick:t[1]||(t[1]=l=>n.$emit("toggle-sign"))},{default:a(()=>t[20]||(t[20]=[i("±")])),_:1}),u(s,{type:"function",onClick:t[2]||(t[2]=l=>n.$emit("percentage"))},{default:a(()=>t[21]||(t[21]=[i("%")])),_:1}),u(s,{type:"operator",onClick:t[3]||(t[3]=l=>n.$emit("operator","÷"))},{default:a(()=>t[22]||(t[22]=[i("÷")])),_:1}),u(s,{onClick:t[4]||(t[4]=l=>n.$emit("digit","7"))},{default:a(()=>t[23]||(t[23]=[i("7")])),_:1}),u(s,{onClick:t[5]||(t[5]=l=>n.$emit("digit","8"))},{default:a(()=>t[24]||(t[24]=[i("8")])),_:1}),u(s,{onClick:t[6]||(t[6]=l=>n.$emit("digit","9"))},{default:a(()=>t[25]||(t[25]=[i("9")])),_:1}),u(s,{type:"operator",onClick:t[7]||(t[7]=l=>n.$emit("operator","×"))},{default:a(()=>t[26]||(t[26]=[i("×")])),_:1}),u(s,{onClick:t[8]||(t[8]=l=>n.$emit("digit","4"))},{default:a(()=>t[27]||(t[27]=[i("4")])),_:1}),u(s,{onClick:t[9]||(t[9]=l=>n.$emit("digit","5"))},{default:a(()=>t[28]||(t[28]=[i("5")])),_:1}),u(s,{onClick:t[10]||(t[10]=l=>n.$emit("digit","6"))},{default:a(()=>t[29]||(t[29]=[i("6")])),_:1}),u(s,{type:"operator",onClick:t[11]||(t[11]=l=>n.$emit("operator","-"))},{default:a(()=>t[30]||(t[30]=[i("-")])),_:1}),u(s,{onClick:t[12]||(t[12]=l=>n.$emit("digit","1"))},{default:a(()=>t[31]||(t[31]=[i("1")])),_:1}),u(s,{onClick:t[13]||(t[13]=l=>n.$emit("digit","2"))},{default:a(()=>t[32]||(t[32]=[i("2")])),_:1}),u(s,{onClick:t[14]||(t[14]=l=>n.$emit("digit","3"))},{default:a(()=>t[33]||(t[33]=[i("3")])),_:1}),u(s,{type:"operator",onClick:t[15]||(t[15]=l=>n.$emit("operator","+"))},{default:a(()=>t[34]||(t[34]=[i("+")])),_:1}),u(s,{onClick:t[16]||(t[16]=l=>n.$emit("digit","0")),span:2},{default:a(()=>t[35]||(t[35]=[i("0")])),_:1}),u(s,{onClick:t[17]||(t[17]=l=>n.$emit("decimal"))},{default:a(()=>t[36]||(t[36]=[i(".")])),_:1}),u(s,{type:"equal",onClick:t[18]||(t[18]=l=>n.$emit("calculate"))},{default:a(()=>t[37]||(t[37]=[i("=")])),_:1})]))}},K=A(z,[["__scopeId","data-v-d557ac17"]]);function R(){const e=E({currentValue:"0",previousValue:"",operator:null,waitingForOperand:!1}),n=()=>{e.value={currentValue:"0",previousValue:"",operator:null,waitingForOperand:!1}},t=()=>{e.value.currentValue="0"},l=o=>{const{currentValue:r,waitingForOperand:p}=e.value;p?(e.value.currentValue=o,e.value.waitingForOperand=!1):e.value.currentValue=r==="0"?o:r+o},d=()=>{const{currentValue:o,waitingForOperand:r}=e.value;if(r){e.value.currentValue="0.",e.value.waitingForOperand=!1;return}o.includes(".")||(e.value.currentValue=o+".")},f=()=>{const{currentValue:o}=e.value;e.value.currentValue=o.charAt(0)==="-"?o.substring(1):"-"+o},V=()=>{const{currentValue:o}=e.value,r=parseFloat(o);e.value.currentValue=String(r/100)},$=(o,r,p)=>{switch(o){case"+":return r+p;case"-":return r-p;case"×":return r*p;case"÷":return p!==0?r/p:NaN;default:return p}},C=o=>{const{currentValue:r,previousValue:p,operator:g}=e.value,w=parseFloat(r);if(p===""&&!isNaN(w))e.value.previousValue=r;else if(g){const N=$(g,parseFloat(p),w);e.value.currentValue=String(N),e.value.previousValue=String(N)}e.value.waitingForOperand=!0,e.value.operator=o},k=()=>{const{currentValue:o,previousValue:r,operator:p}=e.value;if(!p||r==="")return;const g=$(p,parseFloat(r),parseFloat(o));isNaN(g)?e.value.currentValue="Error":e.value.currentValue=String(g),e.value.previousValue="",e.value.operator=null,e.value.waitingForOperand=!0},D=b(()=>e.value.currentValue),S=b(()=>{const{previousValue:o,operator:r}=e.value;return o&&r?`${o} ${r}`:""});return{state:e,displayValue:D,operationDisplay:S,clearAll:n,clearEntry:t,inputDigit:l,inputDecimal:d,toggleSign:f,percentage:V,handleOperator:C,calculateResult:k}}const j={class:"calculator-container"},q={class:"calculator"},H={class:"display"},J={class:"operation"},G={class:"result"},M={__name:"index",setup(e){const{displayValue:n,operationDisplay:t,clearAll:l,inputDigit:d,inputDecimal:f,toggleSign:V,percentage:$,handleOperator:C,calculateResult:k}=R();return(D,S)=>{const o=K;return F(),y("div",j,[m("div",q,[m("div",H,[m("div",J,B(v(t)),1),m("div",G,B(v(n)),1)]),u(o,{onDigit:v(d),onOperator:v(C),onClear:v(l),onToggleSign:v(V),onPercentage:v($),onDecimal:v(f),onCalculate:v(k)},null,8,["onDigit","onOperator","onClear","onToggleSign","onPercentage","onDecimal","onCalculate"])])])}}};export{M as default};
